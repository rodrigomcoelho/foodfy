{% extends '_parts/layout.njk' %}

{% block head %}
  <link rel="stylesheet" href="/css/users.css">
{% endblock head %}

{% import '_parts/card.njk' as card %}

{% block content %}

  {% call card.render('container', 'admin')%}

  <div class="form-header edit">
    <h3>Editando Usuário</h3>
    <div class="forms">
      <form action="/admin/users?_method=DELETE" method="post" id="form-delete">
        <input type="hidden" name="id" value="{{ user.id }}">
        <input type="submit" value="Deletar" class="button button-red">
      </form>
      <form action="/admin/users?_method=PUT" method="post">
        <input class="button" type="submit" value="Salvar">
          {% include './fields.njk' %}
      </form>
    </div>
  </div>

  <script>
    const formDelete = document.querySelector('#form-delete');
    formDelete.addEventListener('submit', function (event) {
        const confirmation = confirm('Você tem certeza que deseja deletar?');
        if (!confirmation) 
            event.preventDefault();
        }
    );
  </script>

  {% endcall %}

{% endblock content %}
